# Project Over View

*******Basic Intro*******

1) We are creating a system for our college, where the student can open a bank account in college.
2) This will be managed by the college, which increase the security by knowing on what the students are spending their money.

*******USING RFID*******

1) Also we use RFID integrated ID cards, to make the payment process faster in the campus.
2) Not only the payments but also include library in-out status and many more.

*******About the code*******

1) There is a specified app, for this to manage this account.
2) Here i have included an example with taking "Gitam crave" as a food store, in which we are able to use RFID payment method.
3) In case if the RFID not works then there is also QR included in the app.




## Components

The suite consists of the following Python scripts:

1.  **`gitamcrave.py`**:
    *   The main application for the campus store ("Gitam Crave").
    *   Displays various items (Fast Food, Snacks, Beverages) with images and prices.
    *   Allows users to add items to a shopping cart and adjust quantities.
    *   Provides a search functionality to filter items.
    *   Calculates the total bill amount.
    *   Initiates payment processing:
        *   Prioritizes RFID payment by attempting to read an RFID card via an Arduino connected to `COM3`.
        *   Checks the user's balance and RFID status (`True`/`False`) in `users.xlsx`.
        *   Deducts the total amount from the user's balance if sufficient and enabled.
        *   Updates the "Total Amount Spent" for the user in `users.xlsx`.
        *   Falls back to QR code generation if RFID module is not found, card is not detected, user is not found, RFID payment is disabled, or balance is insufficient.
    *   Displays success or failure messages after payment attempts.

2.  **`login_page.py`**:
    *   Provides a graphical user interface (GUI) for user login and registration.
    *   Authenticates users against credentials stored in `users.xlsx` (Username, Password).
    *   Allows new users to register by providing their Gitam Mail, Password, and RFID UID.
    *   Checks for existing email or RFID UID during registration.
    *   Adds new users to `users.xlsx` with a default balance of 0 and RFID service enabled (`True`).
    *   Upon successful login, displays a user dashboard ("G-Wallet"):
        *   Shows the current account balance.
        *   Provides a "Pay Using QR" button which activates the computer's camera to scan a payment QR code (presumably generated by `gitamcrave.py` during fallback).
        *   Deducts the scanned amount from the logged-in user's balance in `users.xlsx`.
        *   Includes checkboxes (potentially for enabling/disabling RFID payment and OTP status, linked to `users.xlsx`).
    *   Includes a logout button.

3.  **`gitam_payment_portal.py`**:
    *   A separate GUI tool ("Gitam Payment Portal") for adding funds to a user's account.
    *   Requires the user's Gitam Mail and the amount to add.
    *   Finds the user in `users.xlsx` based on the email.
    *   Adds the specified amount to the user's existing balance.
    *   Saves the updated balance back to `users.xlsx`.

4.  **`rfid_value.py`**:
    *   A utility GUI ("Gitam RFID Scanner") that continuously listens for RFID card scans from the Arduino connected to `COM3`.
    *   Displays the scanned RFID UID in the window.
    *   Useful for identifying a user's RFID UID, potentially during registration.

## Dependencies

*   Python 3.x
*   `tkinter` (usually included with Python)
*   `ttkbootstrap`
*   `Pillow` (PIL Fork)
*   `openpyxl`
*   `pyserial`
*   `qrcode`
*   `opencv-python` (`cv2`)
*   `pyzbar`

## Setup and Usage

1.  **Install Dependencies**:
    ```bash
    pip install ttkbootstrap Pillow openpyxl pyserial qrcode opencv-python pyzbar
    ```
2.  **Hardware**:
    *   Connect an Arduino with an RFID reader module to the computer via USB. Ensure it is recognized on `COM3` (or update the `PORT` variable in `gitamcrave.py`, `rfid_value.py`). The Arduino should be programmed to send the scanned RFID UID over the serial connection.
    *   A webcam is required for the QR code scanning feature in `login_page.py`.
3.  **Data File**:
    *   Create an Excel file named `users.xlsx` in the same directory as the scripts.
    *   Set up the header row (Row 1) with the following columns (case-insensitive matching is used in some scripts, but consistency is recommended):
        *   `Username` (Gitam Mail)
        *   `Password`
        *   `RFID` (or `Hex Value`)
        *   `Status` (or `Service`) - Should contain `True` or `False` to indicate if RFID payment is enabled.
        *   `Balance`
        *   `Total Amount Spent` (This column might be added automatically by `gitamcrave.py` if missing)
    *   Populate with user data or use the registration feature in `login_page.py`.
4.  **Images**:
    *   Ensure all required image files (`.png`) for logos and items are present in the same directory as the scripts. A `placeholder.png` is used if an item image is missing.
5.  **Running the Applications**:
    *   Run `login_page.py` to log in or register.
    *   Run `gitamcrave.py` to use the store interface.
    *   Run `gitam_payment_portal.py` to add funds.
    *   Run `rfid_value.py` to check RFID UIDs.

## Notes

*   The application uses hardcoded paths for images and the `users.xlsx` file, assuming they are in the same directory as the scripts.
*   Error handling is present but could be expanded.
*   Security aspects like password hashing are not implemented; passwords are stored in plain text in the Excel file.
*   The serial port (`COM3`) is hardcoded in `gitamcrave.py` and `rfid_value.py`. This might need adjustment based on the system configuration.
